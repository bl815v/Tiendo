<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin â€” Panel</title>

    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', path='icon/favicon-96x96.png') }}"
      sizes="96x96"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', path='css/admin_index.css') }}"
    />
    <script
      defer
      src="{{ url_for('static', path='js/admin_index.js') }}"
    ></script>
  </head>
  <body>
    <div class="session-warning hidden" id="session-warning">
      Tu sesiÃ³n expirarÃ¡ en <span id="session-timer">5:00</span>. Â¿Deseas
      extenderla?
      <button id="extend-session" class="btn-small">Extender sesiÃ³n</button>
    </div>

    <header class="admin-header">
      <div class="left">
        <img
          src="{{ url_for('static', path='icon/favicon.svg') }}"
          alt="logo"
          class="logo-img"
        />
        <h1>Panel de AdministraciÃ³n</h1>
      </div>

      <div class="right">
        <div class="user-info">
          <span class="admin-user">ğŸ‘¤ {{ username }}</span>
          <small class="session-info" id="session-info">SesiÃ³n activa</small>
        </div>
        <button id="logout-btn" class="btn-logout" title="Cerrar sesiÃ³n">
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
          >
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          Cerrar sesiÃ³n
        </button>
      </div>
    </header>

    <main class="admin-main">
      <nav class="sidebar" aria-label="MenÃº administraciÃ³n">
        <div class="sidebar-header">
          <h2>MenÃº Principal</h2>
        </div>
        <ul>
          <li class="menu-section">
            <div class="menu-title">
              <svg width="16" height="16" fill="currentColor">
                <path
                  d="M3 3h8v2H3zm0 4h8v2H3zm0 4h8v2H3zm10 0h4v2h-4zm0-4h4v2h-4zm0-4h4v2h-4z"
                />
              </svg>
              Productos
            </div>
            <ul class="menu-sub">
              <li data-load="/admin/products/add" class="menu-item">
                <span>â• Agregar</span>
              </li>
              <li data-load="/admin/products" class="menu-item">
                <span>ğŸ“‹ Listar</span>
              </li>
              <li data-load="/admin/products/edit" class="menu-item">
                <span>âœï¸ Editar</span>
              </li>
            </ul>
          </li>

          <li class="menu-section">
            <div class="menu-title">
              <svg width="16" height="16" fill="currentColor">
                <path d="M1 1h6v6H1zm0 8h6v6H1zM13 1h6v6h-6zm0 8h6v6h-6z" />
              </svg>
              CategorÃ­as
            </div>
            <ul class="menu-sub">
              <li data-load="/admin/categories/add" class="menu-item">
                <span>â• Agregar</span>
              </li>
              <li data-load="/admin/categories" class="menu-item">
                <span>ğŸ“‹ Listar</span>
              </li>
              <li data-load="/admin/categories/edit" class="menu-item">
                <span>âœï¸ Editar</span>
              </li>
            </ul>
          </li>

          <li class="menu-section">
            <div class="menu-title">
              <svg width="16" height="16" fill="currentColor">
                <path
                  d="M2 2h4v4H2zm0 8h4v4H2zm8-8h4v4h-4zm0 8h4v4h-4zM8 2h2v12H8z"
                />
              </svg>
              Pedidos
            </div>
            <ul class="menu-sub">
              <li data-load="/admin/orders" class="menu-item">
                <span>ğŸ“¦ Ver pedidos</span>
              </li>
              <li data-load="/admin/orders/pending" class="menu-item">
                <span>â³ Pendientes</span>
              </li>
            </ul>
          </li>

          <li class="menu-section">
            <div class="menu-title">
              <svg width="16" height="16" fill="currentColor">
                <path
                  d="M8 1a3 3 0 0 1 3 3v1h3v12H2V5h3V4a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-1 1v1h2V4a1 1 0 0 0-1-1z"
                />
              </svg>
              Usuarios
            </div>
            <ul class="menu-sub">
              <li data-load="/admin/users" class="menu-item">
                <span>ğŸ‘¥ GestiÃ³n de usuarios</span>
              </li>
              <li data-load="/admin/users/activity" class="menu-item">
                <span>ğŸ“Š Actividad</span>
              </li>
            </ul>
          </li>
        </ul>

        <div class="sidebar-footer">
          <small>VersiÃ³n 1.0.0</small>
          <small id="last-login">Ãšltimo acceso: Hoy</small>
        </div>
      </nav>

      <section id="content-area" class="content-area">
        <div class="welcome">
          <h2>Bienvenido, {{ username }} ğŸ‘‹</h2>
          <p>Selecciona una opciÃ³n del menÃº para comenzar.</p>
          <div class="quick-stats">
            <div class="stat-card">
              <h3>ğŸ“¦ Productos</h3>
              <p id="product-count">Cargando...</p>
            </div>
            <div class="stat-card">
              <h3>ğŸ“ Pedidos</h3>
              <p id="order-count">Cargando...</p>
            </div>
            <div class="stat-card">
              <h3>ğŸ‘¥ Usuarios</h3>
              <p id="user-count">Cargando...</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <div id="admin-modal" class="modal hidden" aria-hidden="true">
      <div class="modal-content">
        <button id="modal-close" class="modal-close">Ã—</button>
        <div id="modal-body"></div>
      </div>
    </div>
  </body>
</html>
